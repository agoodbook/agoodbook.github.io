"use strict";(self.webpackChunkagoodbook=self.webpackChunkagoodbook||[]).push([[365],{9241:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>_,contentTitle:()=>E,default:()=>D,frontMatter:()=>T,metadata:()=>V,toc:()=>M});var s=n(5893),o=n(1151),t=n(4866),i=n(5162),l=n(4079),c=n(1338),a=n(1262),d=n(5682);const h=function(r){return(0,s.jsx)(a.Z,{children:()=>(0,s.jsx)(d.ZP,{theme:{cssVar:!0,token:{colorPrimary:"#2e8555"}},children:r.children})})};var p=n(7294);const g=function(){let r;return(0,s.jsxs)(h,{children:[(0,s.jsx)("div",{className:"title",children:"\u5168\u5c40\u6837\u5f0f\u914d\u7f6e\uff0c\u8bf7\u70b9\u51fb\u64ad\u653e\u6309\u94ae\u67e5\u770b\u6548\u679c\u3002"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("span",{children:"\u80cc\u666f\u8272: \xa0"}),(0,s.jsx)(l.Z,{showText:!0,onChangeComplete:r=>{var e;e=r.toHexString(),document.documentElement.style.setProperty("--nprogress-bg",e)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"\u8fdb\u5ea6\u6761\u9ad8\u5ea6: "}),(0,s.jsx)(c.Z,{defaultValue:5,onChange:function(e){r&&clearTimeout(r),r=setTimeout((()=>{document.documentElement.style.setProperty("--nprogress-height",e+"px")}),100)}})]})]})};var u=n(4865);const j=n.n(u)(),x="container_B_nJ",m="player-btn_yrSY",N="content_LWDy",f="active_tEl5",v="desc_WFje";j.configure({showSpinner:!0});const b=function(r){const{action:e,desc:n,value:o=""}=r;return(0,s.jsxs)("div",{className:x,children:[(0,s.jsx)("div",{className:m,onClick:()=>{if(o)return j[e](o);j[e]()}}),(0,s.jsxs)("div",{className:N,children:[(0,s.jsx)("span",{children:"NProgress."}),(0,s.jsx)("span",{className:f,children:e}),(0,s.jsx)("span",{className:f,children:"("+o+")"})]}),(0,s.jsx)("div",{className:v,children:n})]})};var P=n(8957),k=n(6074),y=n(2269),C=n(8928),Z=n(8610),w=n(9977);const S=function(){const[r,e]=(0,p.useState)();return(0,s.jsxs)(h,{children:[(0,s.jsx)("div",{className:"title",children:"\u5168\u5c40\u914d\u7f6e\u64cd\u4f5c\u6309\u94ae\uff0c\u8bf7\u70b9\u51fb\u64ad\u653e\u6309\u94ae\u67e5\u770b\u6548\u679c\u3002"}),(0,s.jsxs)(P.Z,{split:(0,s.jsx)(k.Z,{type:"vertical"}),wrap:!0,children:[(0,s.jsx)(y.Z,{checkedChildren:"\u5f00\u542f\u8fdb\u5ea6\u73af",unCheckedChildren:"\u7981\u7528\u8fdb\u5ea6\u73af",defaultChecked:!0,onChange:r=>j.configure({showSpinner:r})}),(0,s.jsx)(y.Z,{checkedChildren:"\u5f00\u542f\u8fdb\u5ea6\u6761\u6b65\u8fdb",unCheckedChildren:"\u5173\u95ed\u8fdb\u5ea6\u6761\u6b65\u8fdb",defaultChecked:!0,onChange:r=>j.configure({trickle:r})}),(0,s.jsxs)(P.Z,{children:[(0,s.jsx)("span",{children:"\u6bcf\u6b21\u6b65\u8fdb\u95f4\u9694\uff0c\u5355\u4f4d\u6beb\u79d2ms"}),(0,s.jsx)(C.Z,{min:1,max:2e4,defaultValue:800,onChange:r=>j.configure({trickleSpeed:r})})]}),(0,s.jsxs)(P.Z,{children:[(0,s.jsx)(Z.ZP,{onClick:()=>e(j.isStarted()),children:"\u70b9\u51fb\u68c0\u67e5\u8fdb\u5ea6\u6761\u662f\u5426\u5df2\u7ecf\u542f\u52a8"}),(0,s.jsx)(w.Z,{color:r?"#2e8555":"red",children:r?"\u5f00\u542f\u72b6\u6001":"\u5173\u95ed\u72b6\u6001"})]})]})]})},T={},E="NProgress.js",V={id:"plugin-library/nprogress",title:"NProgress.js",description:"NProgress \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u8fdb\u5ea6\u6761\u7ec4\u4ef6\uff0c\u4f7f\u7528\u7b80\u4fbf\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u96c6\u6210\u5230\u5355\u9875\u9762\u5e94\u7528\u6216\u539f\u751f\u9879\u76ee\u4e2d\u3002",source:"@site/docs/plugin-library/nprogress.mdx",sourceDirName:"plugin-library",slug:"/plugin-library/nprogress",permalink:"/docs/plugin-library/nprogress",draft:!1,unlisted:!1,editUrl:"https://github.com/agoodbook/agoodbook.github.io/tree/main/docs/plugin-library/nprogress.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"\u524d\u7aef\u63d2\u4ef6\u5e93",permalink:"/docs/category/\u524d\u7aef\u63d2\u4ef6\u5e93"},next:{title:"\u5bcc\u6587\u672c",permalink:"/docs/plugin-library/rich-text-editor"}},_={},M=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u7528\u6cd5",id:"\u7528\u6cd5",level:2},{value:"\u5168\u5c40\u914d\u7f6e",id:"\u5168\u5c40\u914d\u7f6e",level:2},{value:"\u6837\u5f0f\u914d\u7f6e",id:"\u6837\u5f0f\u914d\u7f6e",level:2},{value:"\u9879\u76ee\u5f15\u7528",id:"\u9879\u76ee\u5f15\u7528",level:2},{value:"\u539f\u751fHTML",id:"\u539f\u751fhtml",level:3},{value:"Vue.js\u9879\u76ee",id:"vuejs\u9879\u76ee",level:3},{value:"React.js\u9879\u76ee",id:"reactjs\u9879\u76ee",level:3}];function R(r){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.a)(),...r.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"nprogressjs",children:"NProgress.js"}),"\n",(0,s.jsx)(e.p,{children:"NProgress \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u8fdb\u5ea6\u6761\u7ec4\u4ef6\uff0c\u4f7f\u7528\u7b80\u4fbf\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u96c6\u6210\u5230\u5355\u9875\u9762\u5e94\u7528\u6216\u539f\u751f\u9879\u76ee\u4e2d\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,s.jsxs)(t.Z,{groupId:"npm2yarn",children:[(0,s.jsx)(i.Z,{value:"npm",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install nprogress\n"})})}),(0,s.jsx)(i.Z,{value:"yarn",label:"Yarn",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"yarn add nprogress\n"})})}),(0,s.jsx)(i.Z,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"pnpm add nprogress\n"})})})]}),"\n",(0,s.jsx)(e.h2,{id:"\u7528\u6cd5",children:"\u7528\u6cd5"}),"\n",(0,s.jsx)(e.p,{children:"\u70b9\u51fb\u64ad\u653e\u6309\u94ae\uff0c\u5728\u9876\u90e8\u67e5\u770b\u8fdb\u5ea6\u6761\u72b6\u6001\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import NProgress from "nprogress";\r\nimport "nprogress/nprogress.css";\n'})}),"\n",(0,s.jsx)(b,{action:"start",desc:"\u663e\u793a\u8fdb\u5ea6\u6761"}),"\n",(0,s.jsx)(b,{action:"set",value:.4,desc:"\u8bbe\u7f6e\u4e00\u4e2a\u767e\u5206\u6bd4\u503c"}),"\n",(0,s.jsx)(b,{action:"inc",desc:"\u589e\u52a0\u4e00\u70b9\u8fdb\u5ea6"}),"\n",(0,s.jsx)(b,{action:"done",desc:"\u5b8c\u6210\u8fdb\u5ea6"}),"\n",(0,s.jsx)(e.h2,{id:"\u5168\u5c40\u914d\u7f6e",children:"\u5168\u5c40\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",metastring:'title="nprogress.js"',children:"import NProgress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\n\r\nNProgress.configure({ showSpinner: false })         //\u7981\u7528\u8fdb\u5ea6\u73af\r\nNProgress.configure({ trickle : false })            //\u5173\u95ed\u8fdb\u5ea6\u6761\u6b65\u8fdb\r\nNProgress.configure({ trickleSpeed : 200})          //\u6bcf\u6b21\u6b65\u8fdb\u95f4\u9694\uff0c\u5355\u4f4d\u6beb\u79d2ms\r\nNProgress.configure({ easing: 'linear'})            //\u52a8\u753b\u65b9\u5411\r\nNProgress.configure({ speed : 10})                  //\u52a8\u753b\u901f\u5ea6\uff0c\u5355\u4f4d\u6beb\u79d2ms\r\nNProgress.configure({ minimum : 0.08})              //\u6700\u5c0f\u767e\u5206\u6bd4\r\nNProgress.configure({ parent : \"body\"})             //\u6307\u5b9a\u8fdb\u5ea6\u6761\u7684\u7236\u5bb9\u5668\u7684\u9009\u62e9\u5668\uff0c\u7528\u4e8e\u8bbe\u7f6e\u8fdb\u5ea6\u6761\u7684\u4f4d\u7f6e\u3002\r\nNProgress.configure({ barSelector : \".bar\"})        //\u6307\u5b9a\u8fdb\u5ea6\u6761\u5143\u7d20\u7684\u9009\u62e9\u5668\r\nNProgress.configure({ spinnerSelector : \".spinner\"})//\u6307\u5b9a\u65cb\u8f6c\u52a0\u8f7d\u56fe\u6807\u5143\u7d20\u7684\u9009\u62e9\u5668\u3002\r\n\r\nNProgress.isStarted()  //\u68c0\u67e5\u8fdb\u5ea6\u6761\u662f\u5426\u5df2\u7ecf\u542f\u52a8\u3002\u8fd4\u56de\u503cboolean\r\nNProgress.isRendered() //\u68c0\u67e5\u8fdb\u5ea6\u6761\u662f\u5426\u5df2\u7ecf\u88ab\u6e32\u67d3\u3002\u8fd4\u56de\u503cboolean\n"})}),"\n",(0,s.jsx)(S,{}),"\n",(0,s.jsx)(e.h2,{id:"\u6837\u5f0f\u914d\u7f6e",children:"\u6837\u5f0f\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-css",children:"#nprogress .bar {\r\n height: 10px !important;        /*\u9ad8\u5ea6*/\r\n background: #2e8555 !important;  /*\u80cc\u666f\u8272*/\r\n}\r\n\r\n/*\u53f3\u4e0a\u89d2\u8fdb\u5ea6\u73af\u989c\u8272*/\r\n#nprogress .spinner-icon {\r\n  border-top-color: #2e8555 !important;\r\n  border-left-color: #2e8555 !important;\r\n}\n"})}),"\n",(0,s.jsx)(g,{}),"\n",(0,s.jsx)(e.h2,{id:"\u9879\u76ee\u5f15\u7528",children:"\u9879\u76ee\u5f15\u7528"}),"\n",(0,s.jsx)(e.h3,{id:"\u539f\u751fhtml",children:"\u539f\u751fHTML"}),"\n",(0,s.jsxs)(e.p,{children:["\u5982\u679c\u60a8\u8981\u83b7\u53d6",(0,s.jsx)(e.code,{children:"NProgress"}),"\u7684CDN\u94fe\u63a5\uff0c\u8bf7\u8bbf\u95ee",(0,s.jsx)(e.code,{children:"https://www.bootcdn.cn/"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",metastring:"{7-10,14-20}",children:'<!DOCTYPE html>\r\n<html lang="en">\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\r\n    <title>AGoodBook</title>\r\n    <link\r\n      href="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.css"\r\n      rel="stylesheet"\r\n    />\r\n  </head>\r\n\r\n  <body>\r\n    <script src="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.js"><\/script>\r\n    <script>\r\n      NProgress.start();\r\n      setTimeout(() => {\r\n        NProgress.done();\r\n      }, 3000);\r\n    <\/script>\r\n  </body>\r\n</html>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"vuejs\u9879\u76ee",children:"Vue.js\u9879\u76ee"}),"\n",(0,s.jsx)(e.p,{children:"\u60a8\u53ef\u4ee5\u901a\u8fc7Vue\u8def\u7531\u5b88\u536b\uff0c\u5728\u524d\u7f6e\u5b88\u536b\u8fdb\u884c\u5f00\u542f\u8fdb\u5ea6\u64cd\u4f5c\uff0c\u5728\u540e\u7f6e\u5b88\u536b\u8fdb\u884c\u7ed3\u675f\u8fdb\u5ea6\u64cd\u4f5c\u3002\u60a8\u4ea6\u6216\u8005\u9009\u62e9\u7f51\u7edc\u8bf7\u6c42\u65f6\u8fdb\u884c\u8fdb\u5ea6\u6761\u7684\u5f00\u542f\u4e0e\u7ed3\u675f\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-js",children:'import router from "@/router/index.ts";\r\nimport NProgress from "nprogress";\r\nimport "nprogress/nprogress.css";\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  NProgress.start();\r\n  next();\r\n})\r\n\r\nrouter.afterEach((to, from) => {\r\n  NProgress.done();\r\n})\n'})}),"\n",(0,s.jsx)(e.h3,{id:"reactjs\u9879\u76ee",children:"React.js\u9879\u76ee"}),"\n",(0,s.jsx)(e.p,{children:"React\u52a0\u8f7d\u7ec4\u4ef6\u9700\u8981\u6e32\u67d3\u61d2\u52a0\u8f7d\u7ec4\u4ef6\uff0c\u53ef\u5c06\u8fdb\u5ea6\u6761\u5c01\u88c5\u6210\u61d2\u52a0\u8f7d\u7ec4\u4ef6\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",metastring:'title="CustomNProgress.jsx"',children:"import NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\n\r\nfunction CustomNProgress() {\r\n  React.useEffect(() => {\r\n    // \u7ec4\u4ef6\u6e32\u67d3\u65f6\uff0c\u5f00\u542f\u8fdb\u5ea6\u6761\u6a21\u5f0f\r\n    NProgress.start()\r\n    return () => {\r\n      // \u7ec4\u4ef6\u9500\u6bc1\u65f6\uff0c\u7ed3\u675f\u8fdb\u5ea6\u6761\u6a21\u5f0f\r\n      NProgress.done()\r\n    }\r\n  }, [])\r\n\r\n  return null\r\n}\r\nexport default NProgress;\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6302\u8f7d\u61d2\u52a0\u8f7d\u7ec4\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",children:'import CustomNProgress from "CustomNProgress.jsx";\r\n\r\nexport default function Main() {\r\n  return (\r\n    <Suspense fallback={<CustomNProgress />}>\r\n      <Outlet />\r\n    </Suspense>\r\n  )\r\n}\n'})})]})}function D(r={}){const{wrapper:e}={...(0,o.a)(),...r.components};return e?(0,s.jsx)(e,{...r,children:(0,s.jsx)(R,{...r})}):R(r)}}}]);